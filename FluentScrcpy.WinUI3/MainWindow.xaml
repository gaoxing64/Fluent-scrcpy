<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="FluentScrcpy.WinUI3.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FluentScrcpy.WinUI3"
    xmlns:views="using:FluentScrcpy.WinUI3.Views"
    Title="Fluent Scrcpy">

    <Grid x:Name="RootGrid" Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title Bar - 使用 Border 作为标题栏元素 -->
        <Border
            x:Name="AppTitleBar"
            Grid.Row="0"
            Height="32"
            Padding="16,0,0,0"
            Background="Transparent">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Image
                    Grid.Column="0"
                    Source="Assets/logo.png"
                    Width="16"
                    Height="16"
                    VerticalAlignment="Center"
                    Margin="0,0,12,0"/>

                <TextBlock
                    Grid.Column="1"
                    Text="Fluent Scrcpy"
                    VerticalAlignment="Center"
                    Style="{StaticResource CaptionTextBlockStyle}"/>
            </Grid>
        </Border>

        <!-- NavigationView with LeftCompact mode -->
        <NavigationView 
            x:Name="NavView"
            Grid.Row="1"
            PaneDisplayMode="LeftCompact"
            IsBackButtonVisible="Collapsed"
            IsSettingsVisible="False"
            SelectionChanged="NavView_SelectionChanged"
            Background="Transparent">
            
            <NavigationView.MenuItems>
                <NavigationViewItem Tag="Home" Content="主页">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE80F;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                
                <NavigationViewItem Tag="Config" Content="配置">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE74C;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            
            <NavigationView.FooterMenuItems>
                <NavigationViewItem Tag="Settings" Content="设置">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE713;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>
            
            <Frame x:Name="ContentFrame"
                   Background="Transparent"/>
        </NavigationView>

        <!-- Notification Border -->
        <Border x:Name="NotificationBorder"
                Grid.Row="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Margin="0,20,0,0"
                Padding="16,12"
                CornerRadius="8"
                Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                Visibility="Collapsed">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <FontIcon x:Name="NotificationIcon"
                          Grid.Column="0"
                          FontSize="16"
                          Margin="0,0,8,0"
                          VerticalAlignment="Center"/>
                <TextBlock x:Name="NotificationMessageTextBlock"
                           Grid.Column="1"
                           VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>
